var additionalFeatures;!function(e){var a=function(e,a){return window.open(e,a)},t=function(e,a,t){if(void 0!=t&&!t.closed)return window.open(e,a)},o=function(e){void 0!=e&&e.close()};e.viewModel={},e.init=function(){e.viewModel=n()};var n=function(){var e=ko.observable();return e.openWindow=function(e,t){return a(e,t)},e.refreshWindow=function(e,a,o){return t(e,a,o)},e.closeWindow=function(e){o(e)},e}}(additionalFeatures||(additionalFeatures={}));var demo;!function(e){var a=$("#demoSimpleModal"),t=$("#tableDemoSimple");e.viewModel={},e.init=function(a){e.viewModel=o(a),ko.applyBindings(e.viewModel),n()};var o=function(e){var o=ko.mapping.fromJSON(e);return o.editItem=ko.observable(),o.edit=function(e){$("#demoSimpleModal .modal-title").text("Edit row "+e),app.ajaxGET("GetDemoRow",{id:e}).success(function(e){o.editItem(e),a.modal("show")})},o.save=function(e){app.ajaxPOST("SaveDemoRow",ko.toJSON(e.editItem)).success(function(e){e.successful&&(a.modal("hide"),o.refreshTable())})},o.refreshTable=function(){t.DataTable().draw()},o},n=function(){$(document).on("click","#editBtn, #addBtn",function(){e.viewModel.edit($(this).data("id"))}),t.DataTable({order:[[0,"asc"]],processing:!0,serverSide:!0,scrollX:!0,columnDefs:[{targets:5,orderable:!1}],ajax:{url:"GetDemoTableData",type:"POST",datatype:"json",data:function(a){return $.extend({},a,ko.toJS(e.viewModel.testFilter))}},columns:[{data:"Name",name:"Name"},{data:"YearManufactured",name:"YearManufactured"},{data:"Price",name:"Price",render:$.fn.dataTable.render.number(",",".",2,"$")},{data:"Approximation",name:"Approximation"},{data:"LogDate",name:"LogDate",render:function(e){return app.toLocaleDateTimeFormat(e)}},{sortable:!1,render:function(e,a,t,o){return"<a id ='editBtn' title='Edit' class='btn table-btn fa fa-lg fa-pencil-square-o' data-id='"+t.Id+"' data-toggle='modal' data-target='#demoSimpleModal'></a>"}}]})}}(demo||(demo={}));